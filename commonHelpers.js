import{a as d,i,S as m}from"./assets/vendor-6e0bf343.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=t(e);fetch(e.href,a)}})();const p=async(r,o=1,t=15)=>{try{return(await d.get("https://pixabay.com/api/",{params:{key:"43257853-194068c59ee252fa44b7d008e",q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:t}})).data.hits}catch(s){throw console.error("Error fetching images:",s),new Error("Failed to fetch images. Please try again later")}},u=r=>{const o=document.createElement("li");o.classList.add("gallery-item");const t=document.createElement("a");t.classList.add("gallery-link"),t.href=r.largeImageURL;const s=document.createElement("img");s.classList.add("gallery-image"),s.src=r.webformatURL,s.alt=r.tags;const e=document.createElement("div");return e.classList.add("image-description"),e.innerHTML=`
    <p>Likes ${r.likes}</p>
    <p>Views ${r.views}</p>
    <p>Comments ${r.comments}</p>
    <p>Downloads ${r.downloads}</p>
  `,t.appendChild(s),o.append(t,e),o},g=document.querySelector(".search-form"),f=document.querySelector(".search-input"),c=document.querySelector(".gallery"),l=document.querySelector(".loader");g.addEventListener("submit",async r=>{r.preventDefault();const o=f.value.trim();if(o===""){i.error({title:"Error",message:"Please enter a search query",position:"topRight"});return}l.classList.add("loading"),c.innerHTML="";try{const t=await p(o);if(t.length===0)i.warning({title:"Warning",message:'"Sorry, there are no images matching your search query. Please try again!"',position:"topRight"});else{const s=t.map(u);c.append(...s),new m(".gallery a").refresh()}}catch(t){console.error("Error fetching images:",t),i.error({title:"Error",message:"Failed to fetch images. Please try again later",position:"topRight"})}finally{l.classList.remove("loading")}});
//# sourceMappingURL=commonHelpers.js.map
